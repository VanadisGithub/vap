<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8"/>
    <title>VAP-Until</title>
</head>
<body>

<div th:replace="common/head :: head"></div>

<div style="margin:70px">
    <form class="form-inline">
        <label class="control-label" for="timestamp">时间戳：</label>
        <input id="timestamp" class="form-control" type="text">
        <span id="switch-btn" class="btn btn-default" style="margin-left: 20px;margin-right: 20px">转换</span>
        <input id="date" class="form-control" type="text">
    </form>
</div>

</body>
<script type="text/javascript">
    $(document).ready(function () {
        $("#timestamp").keypress(function (event) {
            if (event.keyCode == 13) {
                timestampToDate();
            }
        });
        $("#switch-btn").unbind("click").click(function () {
            timestampToDate();
        });
    });

    function timestampToDate() {
        var timestamp = $("#timestamp").val();
        if (timestamp.length <= 10) {
            timestamp = timestamp * 1000;
        }
        var dateStr = new Date(parseInt(timestamp)).toLocaleString();
        if (dateStr == 'Invalid Date') {
            dateStr = '无效的时间戳';
        }
        $('#date').val(dateStr)
    }
</script>
</html>